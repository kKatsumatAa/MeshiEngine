#pragma once
#include <Windows.h>
#include <d3d12.h>
#pragma comment(lib,"winmm.lib")
#include<stdint.h>


class WindowsApp final
{
private:
	WNDCLASSEX w;
	HWND hwnd;


	//ウインドウプロシージャ(const &にするとエラー出る)
	static LRESULT WindowProc(HWND hwnd, uint32_t msg, WPARAM wparam, LPARAM lparam);

	WindowsApp();

	~WindowsApp() { ; }


public:
	//ウィンドウサイズ
	const float window_width = 1280.0f;
	const float window_height = 720.0f;

	// ビューポート設定コマンド
	D3D12_VIEWPORT viewport;


	//コピーコンストラクタを無効
	WindowsApp(const WindowsApp& obj) = delete;
	//代入演算子も
	WindowsApp& operator=(const WindowsApp& obj) = delete;

	static WindowsApp& GetInstance();

	//(const &にするとエラー出る)
	bool MessegeRoop(MSG msg);

	void UnregisterClassA()
	{
		UnregisterClass(w.lpszClassName, w.hInstance);
	}

	//void operator=(const WindowsApp& win)
	//{
	//	*this = win;
	//}

	//getter
	const WNDCLASSEX& Getw() { return w; }
	const HWND& Gethwnd() { return hwnd; }
};

